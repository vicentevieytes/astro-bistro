---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import '../styles/global.css';

import Cart from '../components/Cart.astro';
import { OrderStatus } from '../types/types';


const url = new URL(Astro.request.url),
	localId = url.searchParams.get('id'),
	response = await fetch(`http://localhost:5001/local?id=${localId}`),
	localData: Restaurante = await response.json();
	// localData = data[0];

// console.log(data);
// console.log("AAA")
---

<Layout title="Restaurant">
	<main>
		<Cart />

		<h1>
			Bienvenido a <span class="text-gradient">{localData.restaurant_name}</span>
		</h1>
		<ul role="list" class="link-card-grid">
			<Card
				href={`../menu?id=${localId}`}
				title="Ver la carta"
				body="Accedé a todas las opciones de platos y bebidas que tenemos disponibles."
			/>
			<Card href={`../pedido?id=${localId}`} title="Hacer pedido" body="Realizá tu pedido de la forma más fácil y efectiva." />
		</ul>
		<ul role="list" class="link-card-grid">
			<Card href="../" title="Ir a la página principal" body="Volver a VerLaCarta" />
		</ul>
	</main>
</Layout>
